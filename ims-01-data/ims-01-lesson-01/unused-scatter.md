## Visualizing numerical data

The most logical and most useful first step of any data analysis is an exploratory analysis. And a very important and informative component of exploratory data analysis is visualization.

We will learn a lot more about data visualization in the tutorial on Summarizing and Visualizing Data, so we won't go into too much detail on data visualization in this tutorial. Let's, however, make a simple scatterplot to visualize the relationship between two numerical variables so that you can get some exposure to constructing plots in SAS and how to interpret them.

There are many methods for visualizing data in SAS, but in this tutorial we will focus on using `PROC SGPLOT` . This is one of the newest SAS procedures for creating many different types of plots. Once you learn how to control the look and feel of graphs within `PROC SGPLOT`, it doesn't matter if you are creating a bar chart, a scatterplot, or a line graph. The concepts and syntax are largely reusable across figure types.

As an example, we'll visualize the relationship between the math and science scores of the students in the High School and Beyond dataset.

```
* Basic scatterplot of math v. science scores;
proc sgplot data=hsb2;
	scatter x=science y=math /
		markerattrs=(symbol=circlefilled)
	;
run;
```

Let's pause for a moment and review what's going on in the code above.

- We use the `SGPLOT` procedure to create plots using the `HSB2` dataset.
- We are requesting a scatterplot with to plot science test scores on the x-axis and math test scores on the y-axis.
- The `markerattrs` option isn't necessary, but using a different symbol helps us see the data points more clearly.

Now that you've learned how to make the plot, let's talk about what the plot says.

### Interpreting a visualization

If we add a regression line through these points, we can see that there is a positive relationship between the science and math scores of students, meaning that students who score highly in science tend to also score highly in math. Probably not that surprising a result.

```
* Scatterplot+regression line of math v. science scores;
proc sgplot data=hsb2;
	reg x=science y=math /
    	markerattrs=(symbol=circlefilled)
    ;
run;
```

We also mentioned earlier that extending from bivariate to multivariate plots is easy in ggplot2. Let's test that out!

### Math, science, and program

Let's plot the same math and science test scores, but this time let's also consider the program that the student is in: general, academic, or vocational:

```
* Scatterplot of math v. science scores, by program;
proc sgplot data=hsb2;
	scatter x=science y=math /
		group=prog markerattrs=(symbol=circlefilled)
	;
run;
```

The code looks very similar to the scatterplot code we used before, except that we added the `group=` option to color the points by program.

Look at the plot generated by the code above and think about where the lines would go if we fit a separate line for each level of the program variable (each color of points). The result would be a plot that looks like the one generated by the code below:

```
* Scatterplot+regression line of math v. science scores, by program;
proc sgplot data=hsb2;
	reg x=science y=math /
		group=prog markerattrs=(symbol=circlefilled)
	;
run;
```

The same positive relationship between math and science scores is still apparent. But we can also see that students in academic programs, shown with green points, tend to score higher than those in vocational programs, in blue, and general programs, in red.

We will wrap up this lesson with some practice creating a similar plot with different variables.

### Visualizing numerical and categorical data

Next we'll visualize the relationship between two numerical variables from the `email50` dataset, separated by whether or not the email was spam. This means that we will use an aspect of the plot (like color or shape) to identify the levels in the `spam` variable so that we can compare plotted values between them.

Let's create a scatterplot of number of exclamation points (`exclaim_mess`) on the y-axis vs. number of characters (`num_char`) on the x-axis, while coloring the points by whether or not the email is `spam`.

```
proc sgplot data=email50;
	scatter x=num_char y=exclaim_mess /
		group=spam markerattrs=(symbol=circlefilled)
	;
run;
```

*Based on the plot, does there appear to be a relationship between these variables?* 

<!-- MathJax -->

<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

